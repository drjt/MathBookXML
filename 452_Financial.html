<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--*                                    *-->
<!--* Generated from MathBook XML source *-->
<!--*    on 2016-02-15T13:53:59-06:00    *-->
<!--*                                    *-->
<meta name="viewport" content="width=device-width,  initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [['\\(','\\)']]
    },
    TeX: {
        extensions: ["AMSmath.js", "AMSsymbols.js"],
        equationNumbers: { autoNumber: "none",
                           useLabelIds: true,
                           formatID: function (n) {return String(n).replace(/[:'"<>&]/g,"")},
                         },
        TagSide: "right",
        TagIndent: ".8em",
    },
    "HTML-CSS": {
        scale: 88,
    },
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full"></script><script src="http://sagecell.sagemath.org/static/jquery.min.js"></script><script src="http://sagecell.sagemath.org/embedded_sagecell.js"></script><script>
$(function () {
    // Make *any* div with class 'sage-compute' a Sage cell
    sagecell.makeSagecell({inputLocation: 'div.sage-compute',
                           linked: true,
                           evalButtonText: 'Evaluate'});
});
    </script><script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script><link href="http://aimath.org/knowlstyle.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="http://aimath.org/knowl.js"></script><script src="http://aimath.org/mathbook/ScrollingNav.js"></script><script src="http://aimath.org/mathbook/Mathbook.js"></script><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic%7CSource+Code+Pro:400" rel="stylesheet" type="text/css">
<link href="http://aimath.org/mathbook/mathbook-modern-3.css" rel="stylesheet" type="text/css">
<link href="http://aimath.org/mathbook/icons.css" rel="stylesheet" type="text/css">
<link href="http://aimath.org/mathbook/add-on.css" rel="stylesheet" type="text/css">
</head>
<body>
<div style="display:none;">\(
        \newcommand{\definiteintegral}[4]{\int_{#1}^{#2}\,#3\,d#4}
        \newcommand{\indefiniteintegral}[2]{\int#1\,d#2}
        \newcommand{\SUM}[3]{\sum_{#1}^{#2} #3  }
        \)</div>
<header id="masthead"><div class="banner"><div class="container"><div class="title-container">
<h1 id="title"><span class="title">Applied Problem Solving - Mississippi College</span></h1>
<p id="byline"><span class="byline">John Travis</span></p>
</div></div></div></header><div class="page"><main class="main"><div id="content"><div class="article">
<section class="abstract" id="abstract-1"><h4 class="heading">
<span class="type">Abstract</span> <span class="counter"></span>
</h4>
<p>
             This section covers stuff related to the mathematics of finance including interest and annuities.</p></section><section class="section" id="section-1"><h4 class="heading">
<span class="type">Section</span> <span class="counter">1</span> <span class="title">Interest</span>
</h4>
<p>
            In today’s world, money can be used for a number of purposes. For this set of notes, we will be concerned with the use
            of money as an investment. In general, when one has monetary resources then they can use those resources to purchase supplies,
            equipment, manpower, etc. in order to generate goods and services for which others will pay. That is, they can use the money to
            make money.</p>
<p>When one however takes a sum of money and allows someone else to use it then they forgo the opportunities described above and
            therefore incurs a loss of the opportunity to earn revenue on those funds. In order to compensate the person lending the money for
            that potential loss, an additional sum of money is added to the amount when the funds are eventually repaid. This additional sum is what
            we call interest. 
            </p>
<p>Some communities may have a general negative attitude for charging interest on loans. It is certainly acceptable for one to lend
            money out and not expect or require interest when repaid. Indeed, is is acceptable for one to just give money away to those that they
            might choose to do so. Actually, when lending money to friends it might be best to just consider the loan a gift and repayment a blessing
            since many friendships have been destroyed over the lack of repayment or the terms of repayment for borrowed funds.
            </p>
<p>For these notes, we will cover the case for how to properly calculate interest on loans and leave it to the
            reader regarding whether they want to use these mathematical formulas or not.
            </p>
<section class="subsection" id="subsection-1"><h4 class="heading">
<span class="type">Subsection</span> <span class="counter">1.1</span> <span class="title">Notation:</span>
</h4>
<p>For the purposes of these notes, we will use the following notations:</p>
<ul>
<li>Original Amount Borrowed = Principle = \(P\)</li>
<li>Future Amount to be Repaid = Future Value = \(A\)</li>
<li>Amount Earned = Interest = \(I\)</li>
<li>Time of investment in years = \(t\)</li>
<li>Interest Rate per year = \(i\)</li>
<li>Interest Rate per compounding period = \(r\)</li>
<li>Number of compounding periods per year = \(m\)</li>
<li>Total Number of compounding periods = \(n\)</li>
<li>Payout per compounding period = \(R\)</li>
</ul>
<p>These terms will be described more completely below</p></section><section class="subsection" id="subsection-2"><h4 class="heading">
<span class="type">Subsection</span> <span class="counter">1.2</span> <span class="title">Simple Interest</span>
</h4>
<p>To determine the amount of interest one should pay for the use of someone else’s money, one model is to base that
				amount of interest to that it is directly proportional to the length of time over which the money is lent as well as directly
				proportional to some rate which is based upon the borrower’s perceived ability to repay and based upon current market conditions.
				To satisfy these constraints leads to the model for Simple Interest. </p>
<article class="theorem-like" id="theorem-1"><h5>
<span class="type">Theorem</span><span class="counter">1.1</span> (<span class="title">Simple Interest Formula</span>)</h5>Using simple interest, \(I = P \cdot i \cdot t\) and so \(A = P + P \cdot i \cdot t\) or \(A = P(1 + i \cdot t)\)</article></section><section class="subsection" id="subsection-3"><h4 class="heading">
<span class="type">Subsection</span> <span class="counter">1.3</span> <span class="title">Compound Interest</span>
</h4>
<p>When using simple interest, one only considers the value of the resource at the beginning of time and then again at the end. H
				owever, the lender does without use of the funds at all times during the period of the investment. Indeed, if the original investment
				were to only be lent for 1/2 of the original time period, then the borrower would have to pay the accrued interest at that time (1/2 as much
				as planned) and then perhaps re-borrow the money plus the paid interest for the remaining time. However, for the second half, the amount borrowed
				would include the additional interest that had to be paid.  Continuing this by shortening the period (say, 1/4’s or 1/12’s) would allow
				for the amount borrowed at the end of each period to grow. The net effect of this recalculation over many periods gives rise to what is 
				know as Compound Interest.</p>
<article class="theorem-like" id="theorem-2"><h5>
<span class="type">Theorem</span><span class="counter">1.2</span> (<span class="title">Future Value of Compound Interest</span>)</h5>
<p>Using Compound interest over t years, compounding m times per year, 
					yields \(\displaystyle A = P(1+r)^n\) with \(n=mt\) and \(r = i/m\)</p></article><article class="proof"><h5>Proof</h5>
<p>To determine the future value of a deposit of size \(P\) over several periods, utilize the simple interest formula for a single
					period to determine the value of the deposit after that one period. Then, take that new (slightly larger) amount as a starting point
					for a new simple interest calculation covering the next period. Repeat for n periods to get the ending value over all periods.</p>
<p>To do this, let’s denote the present value after k periods as \(P_k\) and note that \(P_0 = P\).  Then,</p>\begin{align}
P_1 &amp; = P_0(1+r)\notag\\
P_2 &amp; = P_1(1+r) = P_0(1+r)^2 \notag\\
P_3 &amp; = P_2(1+r) = P_0(1+r)^3\notag\\
P_4 &amp; = P_3(1+r) = P_0(1+r)^4\notag\\
 &amp; =  ...\notag\\
P_{n-1} &amp; = P_{n-2}(1+r) = P_0(1+r)^{n-1}\notag\\
P_n &amp; = P_{n-1}(1+r) = P_0(1+r)^n\notag
\end{align}<p>Noting that \(A = P_n \) and \(P = P_0 \) gives</p>\begin{align}
A &amp; = P(1+r)^n\notag
\end{align}</article><article class="theorem-like" id="corollary-1"><h5>
<span class="type">Corollary</span><span class="counter">1.3</span> (<span class="title">Present Value of Compound Interest</span>)</h5>Given a future value \(A\), the present value using Compound Interest is given by \(\displaystyle P = A(1+r)^{-n}\)</article><article class="proof"><h5>Proof</h5>
<p>Take the formula above and solve for P. This gives,</p>
<p>\(\displaystyle P = A(1+r)^{-n}\)</p></article><section class="subsection" id="subsection-4"><h4 class="heading">
<span class="type">Subsection</span> <span class="counter">1.3.1</span> <span class="title">Effective Interest Rates</span>
</h4>
<p>The published yearly interest rate is also called the “nominal” rate.
					As one considers investments (and especially annuities) one may desire compounding the value of money over different compounding time 
					frames. So, comparing raw interest rates becomes muddled since the same nominal rate can result in wildly different actual growth amounts.
					To avoid confusion we determine what is known as an effective interest rate
					by computing the increase of 1 dollar over one year’s time span. This results in the effective rate \(r_e\)</p>\begin{gather}
P + I = 1 + 1 \cdot r_e \cdot 1 = 1(1+r)^m\notag\\
r_e = (1+r)^m - 1\notag
\end{gather}<article class="example-like" id="example-1"><h5>
<span class="type">Example</span> <span class="counter">1.4</span> <span class="title">Comparing different compounding periods</span>
</h5>
<p>Determine the effective rate of compounding daily that is equivalent to compounding monthly at an annual rate of \(r_{12}=4%\).  
						To do so, first compute the effective interest rate of the monthly compounding (since you know its stated rate) using 
						\( \displaystyle (1+ \frac{0.04}{12})^{12} - 1\).  Then, use the effective rate
						formula set equal to this effective value and work your way backward to find the annual rate \(r_{365}\)for compounding daily.</p>\begin{align}
(1+ \frac{0.04}{12})^{12} - 1 &amp; = (1+ \frac{r_{365}}{365})^{365} - 1 \notag\\
(1+ \frac{0.04}{12})^{12} &amp; = (1+ \frac{r_{365}}{365})^{365} \notag\\
\ln(1+ \frac{0.04}{12})^{12} &amp; = \ln(1+ \frac{r_{365}}{365})^{365} \notag\\
12 \ln(1+ \frac{0.04}{12}) &amp; = 365 \ln(1+ \frac{r_{365}}{365}) \notag\\
\frac{12}{365} \ln(1+ \frac{0.04}{12}) &amp; = \ln(1+ \frac{r_{365}}{365}) \notag\\
e^{\frac{12}{365} \ln(1+ \frac{0.04}{12})} &amp; = 1+ \frac{r_{365}}{365} \notag\\
365(e^{\frac{12}{365} \ln(1+ \frac{0.04}{12})} - 1) &amp; = r_{365} \notag
\end{align}<p>and the rest is arithmetic.  Easily, the above example generalizes to other compounding periods:</p>\begin{align}
(1+ \frac{r_1}{m_1})^{m_1} - 1 &amp; = (1+ \frac{r_2}{m_2})^{m_2} - 1 \notag\\
(1+ \frac{r_1}{m_1})^{m_1} &amp; = (1+ \frac{r_2}{m_2})^{m_2} \notag\\
\ln(1+ \frac{r_1}{m_1})^{m_1} &amp; = \ln(1+ \frac{r_2}{m_2})^{m_2} \notag\\
m_1 \ln(1+ \frac{r_1}{m_1}) &amp; = m_2 \ln(1+ \frac{r_2}{m_2}) \notag\\
\frac{m_1}{m_2} \ln(1+ \frac{r_1}{m_1}) &amp; = \ln(1+ \frac{r_2}{m_2}) \notag\\
e^{\frac{m_1}{m_2} \ln(1+ \frac{r_1}{m_1})} &amp; = 1+ \frac{r_2}{m_2} \notag\\
m_2(e^{\frac{m_1}{m_2} \ln(1+ \frac{r_1}{m_1})} - 1) &amp; = r_2 \notag
\end{align}</article></section><section class="subsection" id="subsection-5"><h4 class="heading">
<span class="type">Subsection</span> <span class="counter">1.3.2</span> <span class="title">Continuous Compounding of Interest</span>
</h4>
<p>As interest is compounded more often, the effective interest rate tends to increase. Indeed, as m increases then the time between
					periods decreases and becomes infinitesimal.  We would then say that interest is compounded continuously. As it turns out, we will 
					see that there is a limit to the effective rate as m grows.</p>
<article class="theorem-like" id="theorem-3"><h5>
<span class="type">Theorem</span><span class="counter">1.5</span> (<span class="title">Future Value when Compounding Continuously</span>)</h5>\(\displaystyle A = P e^{it}\)</article><article class="proof"><h5>Proof</h5>\begin{align}
A &amp; = P \lim_{m \rightarrow \infty} (1+i/m)^{m t}\notag\\
  &amp; = P \lim_{m \rightarrow \infty} \left ( (1+i/m)^m \right )^t\notag\\
  &amp; = P \lim_{m \rightarrow \infty} \left ( e^{ \ln(1+i/m)^m} \right )^t\notag\\
  &amp; = P \lim_{m \rightarrow \infty} \left ( e^{m \cdot \ln(1+i/m)} \right )^t\notag\\
  &amp; = P \lim_{m \rightarrow \infty} \left ( e^{\frac{ \ln(1+i/m)}{1/m}} \right )^t\notag\\
  &amp; = P \lim_{m \rightarrow \infty} \left ( e^{\frac{ \frac{-i/m^2}{(1+i/m)}}{-1/m^2}} \right )^t\notag\\
  &amp; = P \lim_{m \rightarrow \infty} \left ( e^{ \frac{i}{(1+i/m)}} \right )^t\notag\\
  &amp; = P \left ( e^{ \frac{i}{1+0}} \right )^t\notag\\
  &amp; = P e^{i \cdot t}\notag
\end{align}</article><div class="sage-compute"><script type="text/x-sage">var('t')
@interact
def _(rate = slider(1,12,1),m = slider(2,1000,2),end_time=(1,20,1)):
    
    n = m*t
    discrete_compounding = (1+rate/m)^n
    continuous_compounding = e^(rate*t)
    G = plot(discrete_compounding,t,0,end_time)
    G += plot(continuous_compounding,t,0,end_time,color='green')
    G.show(title='Discrete vs Continuous')
    H = plot(continuous_compounding-discrete_compounding,t,0,end_time,color='red')
    H.show(title='Difference between the two')
</script></div></section></section><section class="subsection" id="subsection-6"><h4 class="heading">
<span class="type">Subsection</span> <span class="counter">1.4</span> <span class="title">Annuities</span>
</h4>
<p>In the discussion above, investments considered a single “deposit” at the beginning of the time period and a single “payout” at the 
				end of the time period. In many real-life situations, one may desire an option where there is perhaps a single deposit at the beginning of 
				time and then a series of (perhaps equal) payouts over the time period. Such a sequence of payments is called an annuity.</p>
<article class="theorem-like" id="theorem-4"><h5>
<span class="type">Theorem</span><span class="counter">1.6</span> (<span class="title">Annuity Future Value </span>)</h5>An annuity of R per period over t years, paying out m times per year with yearly rate i yields 
					\(\displaystyle A = R\frac{(1+r)^n-1}{r}\)</article><article class="proof"><h5>Proof</h5>
<p>We will presume this sequence of regular and equal payments of amount R starts in 1 period from the beginning of time 
					and then ends on the last day of the allotted time period.  To determine the future value of this accumulated promise, take
					each payment and find its future value at the end of the time period.  Note that this means the first payment must be “moved forward”
					n-1 time periods, the second n-2 time periods, etc. until the last payment which is actually at the final time and so is not moved
					at all. This gives</p>\begin{align}
A &amp; = R(1+r)^{n-1} + R(1+r)^{n-2} + R(1+r)^{n-3} +  ...  R(1+r)^{1} + R\notag\\
 &amp; = R \left [ (1+r)^{n-1} + (1+r)^{n-2} + (1+r)^{n-3} +  ...  (1+r)^{1} + 1 \right ]\notag\\
 &amp; = R \displaystyle \frac{1-(1+r)^n}{1-(1+r)} \notag\\
 &amp; = R \displaystyle \frac{(1+r)^n-1}{r} \notag
\end{align}</article><article class="theorem-like" id="corollary-2"><h5>
<span class="type">Corollary</span><span class="counter">1.7</span> (<span class="title">Annuity Present Value </span>)</h5>An annuity of R per period over t years, paying out m times per year with yearly rate i yields 
					\(\displaystyle P = R\frac{1-(1+r)^{-n}}{r}\)</article><article class="proof"><h5>Proof</h5>
<p>Apply the present value formula to the future value formula above.</p></article></section><section class="subsection" id="subsection-7"><h4 class="heading">
<span class="type">Subsection</span> <span class="counter">1.5</span> <span class="title">Annuity Calculations</span>
</h4>
<section class="subsection" id="subsection-8"><h4 class="heading">
<span class="type">Subsection</span> <span class="counter">1.5.1</span> <span class="title">Complete Amortization Schedule</span>
</h4>
<p>To determine the breakdown regarding interest paid and reduction of principle for any given payment in an annuity, one can
					simply apply a simple interest calculation covering one period to determine the interest and then the remainder of the payment
					will be applied to reducing the principle amount owed. Continuing this process for the life of the annuity (loan) give what is 
					known as an “amortization schedule”. In general, since this involves payments in real money then we often round up the calculation
					of the regular payments so that the final payment will perhaps be slightly smaller than the others.</p>
<div class="sage-compute"><script type="text/x-sage">def roundup(x):
    return (ceil(100*x)/100).n()

@interact
def _(P = input_box(10000,label='Principle'),
                    m = input_box(12,label='Compounting Periods per year'),
                    t = input_box(2,label='Number of Years'),
                    rate = input_box(0.04,label='Yearly Interest Rate')):
    n = m*t
    r = rate/m
    R1 = P*r/(1-(1+r)^(-n))
    R = (ceil(100*R1)/100).n()
    Bal = P    
    pretty_print(html('Monthly Payment is $%.2f$'%(R)))
    for k in range(n-1):
        Interest = round(Bal*r,2)
        Reduction = R - Interest
        pretty_print(html("Pmt#$%s$: "%str(k+1)+"Starting Balance = $ %.2f$,"%Bal+" interest Owed = $%.2f$  "%(Interest)+", Payment to Principal = $%.2f$  "%(Reduction)))
        Bal = Bal - Reduction
    Interest = roundup(Bal*r)
    LastPmt = Bal+Interest
    pretty_print(html("Pmt#$%s$: "%str(n)+"Starting Balance = $ %.2f$,"%Bal+" interest Owed = $%.2f$  "%(Interest)+", final payment of = $%.2f$  "%(LastPmt)))
</script></div></section><section class="subsection" id="subsection-9"><h4 class="heading">
<span class="type">Subsection</span> <span class="counter">1.5.2</span> <span class="title">Determining directly the interest for any given payment in an annuity</span>
</h4>
<p>To determine the amount of interest in the kth payment, one can avoid having to compute the entire amortization schedule by 
					computing the present value \(P_{mid}\) of the final n-k payments at the previous time period. This will be at the n-(k-1
					Then, compute the interest demanded on that amount one time period later.  That is, \(P_{mid} \cdot r \).</p>\begin{gather}
P_{mid} = R \frac{1-(1+r)^{-(n-(k+1))}}{r}\notag\\
P_{mid} \cdot r = R (1-(1+r)^{k-n-1})\notag
\end{gather}<div class="sage-compute"><script type="text/x-sage">def roundup(x):
    return (ceil(100*x)/100).n()

@interact
def _(P = input_box(10000,label='Principle'),
                    m = input_box(12,label='Compounting Periods per year'),
                    t = input_box(2,label='Number of Years'),
                    rate = input_box(0.04,label='Yearly Interest Rate'),
                    k = input_box(12,label='Payment Period')):
    n = m*t
    r = rate/m
    R = roundup(P*r/(1-(1+r)^(-n)))
    Bal = P    
    pretty_print(html('Monthly Payment is $%.2f$.'%(R)))
    PsubK = R*(1-(1+r)^(k-n-1))/r
    Interest = PsubK*r
    Reduction = R - Interest
    pretty_print(html('At the $%s$th '%str(k)+'payment period, Balance = $%.2f$'%(PsubK)+' requires interest of $%.2f$'%(Interest)+' and principle reduction of $%.2f$'%(Reduction)))
</script></div></section><section class="subsection" id="subsection-10"><h4 class="heading">
<span class="type">Subsection</span> <span class="counter">1.5.3</span> <span class="title">Annuity with annual cost of living increases</span>
</h4>
<p>Generally, an annuity is a sequence of equal payments over time. In reality, people like to use an annuity to
					fund retirement and one might want to allow for the payments to increase each year to keep up with the cost of living.
					Another alternative occurs perhaps when one might purchase a house and not be able to make the necessary payments at the 
					beginning of the annuity but expects to earn more and therefore be able to pay more in later years of the loan. To analyze
					these situations takes a bit more care since the compounding period and the (annual) increases are not necessarily on the 
					same time frames.  To fix this, the idea is to convert the periodic payments in terms of years by converting, for example,
					the 12 monthly payments into a single but equivalent lump sum payment at the end of the year.  So long as the lump sum payment
					is mathematically equivalent to the sequence of payments then all is equivalent. Then, we can tack on the desired cost of living 
					increase to these annualized payments and use that rate of increase for the yearly annuity.</p>
<article class="theorem-like" id="theorem-5"><h5>
<span class="type">Theorem</span><span class="counter">1.8</span> (<span class="title">Yearly Annuity with Cost of Living Adjustment</span>)</h5>The Present Value of a yearly annuity initially in the amount of \(R_y\) which includes yearly cost-of-living adjustments is 
							\(R_y \frac{1}{1+r_e} \left [ \frac{ \left ( \frac{1+a}{1+r_e} \right )^t-1}{ \left (\frac{1+a}{1+r_e} \right )-1} \right]\)
							with \(R_y\) = first year’s payment, 
							\(r_e\) = effective yearly rate, a = yearly cost-of-living increase, t = number of years.</article><article class="proof"><h5>Proof</h5>
<p>To save some time, let’s define \(z = \frac{1+a}{1+r_e}\).  Notice that if the cost of living increase (a) is greater than
								the effective rate of interest \(r_e\) then the net investment will grow with a interest rate related to \(z-1 \gt 0\).  
								On the other
								hand, if the cost of living increase is less than the effective rate of interest, then the net investment wil grow at an interest
								rate \(z-1 \lt 0\)...that it, your periodic payments will not be keeping up with inflation.  Notice in the formulas below that this 
								quotient z essentially replaces the standard compound growth factor (1+r). </p>
<p>Starting with a payment of R at the end of the first
								year, increase this by a factor of (1+a) for each subsequent year gives a present value of </p>\begin{align}
P &amp; = R_y (1+r_e)^{-1} + R_y (1+a)(1+r_e)^{-2} + R_y (1+a)^{2}(1+r_e)^{-3}  + R_y (1+a)^{3}(1+r_e)^{-4} + ... + R_y (1+a)^{t-1}(1+r_e)^{-t}\notag\\
&amp; = R_y \left [ (1+r_e)^{-1} + (1+a)(1+r_e)^{-2} + (1+a)^{2}(1+r_e)^{-3} + (1+a)^{3}(1+r_e)^{-4} + ... + (1+a)^{t-1}(1+r_e)^{-t} \right ]\notag\\
&amp; = R_y \frac{1}{1+r_e} \left [ 1 + z + z^2 + z^3 + ... +  z^{t-1} \right ]\notag\\
&amp; = R_y \frac{1}{1+r_e} \left [ \frac{1-z^t}{1-z} \right] \notag\\
&amp; = R_y \frac{1}{1+r_e} \left [ \frac{z^t-1}{z-1} \right] \notag
\end{align}</article><p>Obviously, one may want to receive these payments more often than once a year but account for yearly adjustments to the payments.
					In this situation, one should determine the size R of the m payments in the first year and then find the accumulated value of those 
					payments at the end of one year. Taking that value as R in the theorem above gives the present value of the cost-of-living adjusted
					annuity stream. Of course one can take that present value and determine the value of the income stream at any other desired time.</p>
<article class="example-like" id="example-2"><h5>
<span class="type">Example</span> <span class="counter">1.9</span> <span class="title">Yearly Annuity with Cost of Living Increase</span>
</h5>
<p>Let’s consider the value of making payments of 10 dollars per year in year one and then increasing the payments by a rate of
					a = 4% each year.  Assuming an interest rate of \(r_e\) = 3% compounded yearly for t = 8 years, what is the present value of this annuity?</p>\begin{align}
z = \frac{1.04}{1.03} \approx 1.0097\notag\\
P &amp; \approx 10 \frac{1}{1.03} \left [ \frac{1.0097^8-1}{0.0097} \right]\notag\\
 &amp; = 10 \frac{1}{1.03} 8.2769334 = 80.36 \notag
\end{align}</article><article class="example-like" id="example-3"><h5>
<span class="type">Example</span> <span class="counter">1.10</span> <span class="title">Monthly Annuity with Annual Cost of Living Increase</span>
</h5>
<p>To allow for more frequent payments, say monthly, but with yearly adjustments to the amount of these payments one can determine
						the future value of the initial payments over one year.  Then, use that value as a “yearly” payment adjusted for cost-of-living increase.</p>
<p>Consider the following:  Initial monthly payments of 10 dollars per month with interest compounded at 3% and with 4% yearly 
						cost-of-living adjustments for 8 years. First, compute the future value \(R_y\) of a year of payments and then apply the theorem above.</p>\begin{gather}
r_e = \left ( 1 + \frac{0.03}{12} \right )^{12}-1 \approx 0.0304159\notag\\
R_y = 10 \frac{(1 + \frac{0.03}{12})^{12}-1}{\frac{0.03}{12}} = 121.66\notag\\
z = \frac{1.04}{1.0304159} \approx 1.00930119576 \notag\\
P = 121.66 \frac{1}{1.0304159} \left [ \frac{1.00930119576^8-1}{0.00930119576} \right] = 975.88\notag
\end{gather}</article><article class="example-like" id="example-4"><h5>
<span class="type">Example</span> <span class="counter">1.11</span>
</h5>
<p>The interactive cell below determines the effect of compounding and cost of living increases for each payment of an annuity.</p>
<div class="sage-compute"><script type="text/x-sage">def round(x):
    return (floor(100*(x+0.005))/100).n()
    
@interact
def _(R = (10),rate = (0.03), m = (1), t = (8), a = (0.04)):
    r = rate/m
    n = m*t
    A = 0
    for k in range(t):
        R1 = round(R*(1+a)^(k))
        print "Year ",k+1," has payment(s) of ", R1
        yearend = k*m
        print "yearend ",yearend
        for j in range(m):
            tempBeg = R1*(1+r)^(-(yearend+j+1))
            tempEnd = R1*(1+r)^(n-yearend-j-1)
            A += tempEnd
            print "  ",j+1,"th payment is worth at the start of time ",tempBeg
            print "  ",j+1,"th payment is worth at the end of time ",tempEnd
    P = A*(1+r)^(-n)
    print "Total value of payments at the start of time is ",P
    print "Total value of payments at the end of time is ",A
</script></div></article></section></section><section class="subsection" id="subsection-11"><h4 class="heading">
<span class="type">Subsection</span> <span class="counter">1.6</span> <span class="title">Perpetual Annuities</span>
</h4>
<p>In general, an annuity is a regular set of payments over a set period of time. However, sometimes you might want to set up an investment
				which will return a set of regular payments forever. This is called a “perpetuity” or a “perpetual annuity”. To determine the amount to invest
				to set up such an instrument, it is best to consider the present value at the beginning of time and require that the investment grow over only
				one time period to the amount which needs to be dispersed.  That is, after one period the investment grows by the amount of the desired payment:</p>\begin{align}
 A &amp; = P + R = P(1+r)\notag\\
 R &amp; = P(1+r) - P\notag\\
 &amp; = Pr\notag
\end{align}<p>If you want to consider money compounded more often than the payment period (say yearly payments but investments compounded m times per year</p>\begin{align}
 A &amp; = P + R = P(1+r)^m\notag\\
 R &amp; = P(1+r)^m - P\notag\\
 &amp; = P((1+r)^m - 1)\notag
\end{align}<p>So, if you want to have a set of regular payments of R dollars each year, then set aside an investment of 
				\(\displaystyle P = \frac{R}{(1+r)^m - 1}\)</p></section></section>
</div></div></main></div>
</body>
</html>
